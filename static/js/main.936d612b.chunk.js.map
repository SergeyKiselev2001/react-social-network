{"version":3,"sources":["redux/dialogsReduser.js","redux/usersReduser.js","components/Profile/MyPosts/Post/Post.module.css","components/Login/Login.module.css","components/Navbar/Friends/Friends.jsx","components/Navbar/Navbar.jsx","components/Navbar/NavbarContainer.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","redux/profileReduser.js","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/ProfileContainer.jsx","components/Header/Header.jsx","redux/authReduser.js","components/Header/HeaderContainer.jsx","components/Login/Login.jsx","redux/appReduser.js","components/Initialisation/Initialisation.jsx","components/HOCs/SuspenseHOC.jsx","App.js","reportWebVitals.js","redux/sidebarReduser.js","redux/REDUX_STORE.js","index.js","components/Profile/ProfileInfo/ProfileInfo.module.css","utils/validators/VALIDATORS.js","components/common/FormControls/FormControls.jsx","components/Navbar/Navbar.module.css","components/Profile/MyPosts/MyPosts.module.css","components/common/FormControls/FormControls.module.css","redux/SELECRORS.js","components/Header/Header.module.css","components/HOCs/AuthHOC.jsx","API/API.js","API/KEYS.js","assets/images/cheems.jpg"],"names":["initialState","messagesData","id","msg","dialogsData","name","fake","addCommentAC","currentMsg","type","dialogsReduser","state","action","users","currentPageUsers","totalCount","usersPerPage","amountOfPages","currentPage","showLoader","followingInProgressID","visiblePages","usersReduser","map","el","userId","followed","buffer","i","push","shouldShowLoader","followingInProgress","setUsers","setCurrentPageUsers","setUsersAmount","amount","setPagesAmount","setCurrentPage","number","setVisiblePagesAC","arr","getUsersThunkCreator","dispatch","a","usersAPI","getUsers","data","items","Math","ceil","setCurrentPageThunkCreator","pageNumber","page","isNaN","followThunkCreator","follow","resultCode","unfollowThunkCreator","unFollow","module","exports","Friends","props","fio","Navbar","friendsList","friends","navList","links","className","classes","nav__link","to","src","activeClassName","active_link","nav","NavbarContainer","connect","sidebarFriendsSL","sidebarLinksSL","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","console","log","onChange","e","target","value","onBlur","updateStatus","onDoubleClick","ProfileInfo","content__header","content__avatar","photos","small","photo","isOwner","inputFileWrapper","inputSpan","inputFile","event","files","length","setPhoto","content__author","fullName","aboutMe","contacts","vk","updateStatusTK","getStatus","getStatusTK","Post","MyPosts","React","memo","postsElements","content__add_post","content__wall","MyPostsFormContainer","onSubmit","obj","addPost","textareaData","lengthValidator","maxLengthTC","reduxForm","form","fields","handleSubmit","validate","required","component","Textarea","placeholder","profileInfo","currentUserId","postsData","likesCount","setProfileInfo","userID","profileAPI","response","profileReduser","currentInputData","filter","index","postId","MyPostsContainer","profilePostsDataSL","addPostAC","ProfileContainer","this","refreshProfile","prevProps","prevState","snapshot","match","params","USER_ID","profileDidMountThunkCreator","isAuthorised","Component","compose","withRouter","profileInfoSL","profileStatusSL","authAPI","authMe","res","getProfileInfo","res2","file","setImage","withAuthRedirect","Header","authData","login","header","alt","isAuth","loginBlock","onClick","logoutMeTC","email","isFetching","authStatus","setAuthStatus","setAuthUserData","authReduser","HeaderContainer","authMeThunkCreator","userIdSL","isAuthSL","authDataSL","logoutMe","ReduxLoginForm","Input","error","c","formSummaryError","LoginContainer","authStatusSL","tryToLoginTC","password","rememberMe","setTimeout","tryToLogin","stopSubmit","_error","messages","isUserAuthorised","userStatus","setAuthorisationStatusAC","appReduser","Initialisation","checkUserAuthorisationTC","userStatusSL","res3","SuspenseHOC","Comp","fallback","DialogsContainer","lazy","TestComp","UsersContainer","App","path","render","renderContent","AppContainer","app","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","sidebarReduser","redusers","combineReducers","profilePage","messagesPage","sidebarPage","auth","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","StrictMode","document","getElementById","FormControl","input","meta","hasError","touched","error_textaera","textarea","children","error_span","restProps","totalCountSL","usersPerPageSL","amountOfPagesSL","currentPageSL","currentPageUsersSL","showLoaderSL","followingInProgressIDSL","visiblePagesSL","usersGetSuperSL","createSelector","mapStateToPropsAuth","WrapperContainer","axiosInstance","axios","create","withCredentials","baseURL","headers","get","post","delete","put","formData","FormData","append"],"mappings":"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","file":"static/js/main.936d612b.chunk.js","sourcesContent":["\r\n\r\n\r\nlet initialState = {\r\n  messagesData: [\r\n    { id: 1, msg: \"Привет\" },\r\n    { id: 2, msg: \"Тестовые сообщения\" },\r\n    { id: 3, msg: \"Напиши что нибудь в чат\" },\r\n    { id: 4, msg: \"Лорем ипусм\" },\r\n  ],\r\n  dialogsData: [\r\n    { id: 1, name: \"Евгений\" },\r\n    { id: 2, name: \"Дмитрий\" },\r\n    { id: 3, name: \"Валера\" },\r\n    { id: 4, name: \"Светлана\" },\r\n    { id: 5, name: \"Настя\" },\r\n  ],\r\n\r\n  fake: 0,\r\n};\r\n\r\nconst dialogsReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case \"ADD-COMMENT\":\r\n      debugger;\r\n      return {\r\n        ...state,\r\n        messagesData: [...state.messagesData, { id: 5, msg: action.currentMsg }],\r\n      };\r\n    case \"FAKE\":\r\n      return {\r\n        ...state,\r\n        fake: action.fake\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const addCommentAC = (currentMsg) => ({ type: \"ADD-COMMENT\", currentMsg});\r\nexport const fakeAC = (fake) => ({ type: \"FAKE\", fake});\r\nexport default dialogsReduser;\r\n","\r\nimport { usersAPI } from \"../API/API\";\r\n\r\nlet initialState = {\r\n  users: [],\r\n  currentPageUsers: [],\r\n  totalCount: 10,\r\n  usersPerPage: 100,\r\n  amountOfPages: [1],\r\n  currentPage: 1,\r\n\r\n  showLoader: false,\r\n  followingInProgressID: null,\r\n\r\n  visiblePages: []\r\n};\r\n\r\nexport let usersReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"FOLLOW\":\r\n      return {\r\n        ...state,\r\n        users: state.users.map((el) => {\r\n          if (el.id === action.userId) {\r\n            return { ...el, followed: true };\r\n          } else {\r\n            return el;\r\n          }\r\n        }),\r\n      };\r\n\r\n    case \"UNFOLLOW\":\r\n      return {\r\n        ...state,\r\n        users: state.users.map((el) => {\r\n          if (el.id === action.userId) {\r\n            return { ...el, followed: false };\r\n          }\r\n          return el;\r\n        }),\r\n      };\r\n\r\n    case \"FOLLOWING_IN_PROGRESS\":\r\n      return {\r\n        ...state,\r\n        followingInProgressID: action.followingInProgressID,\r\n      };\r\n    case \"SET_USERS\":\r\n      return {\r\n        ...state,\r\n        users: [...action.users],\r\n      };\r\n\r\n    case \"SET_CURRENT_PAGE_USERS\":\r\n      return {\r\n        ...state,\r\n        currentPageUsers: [...action.currentPageUsers],\r\n      };\r\n\r\n    case \"SET_USERS_AMOUNT\":\r\n      return {\r\n        ...state,\r\n        totalCount: action.totalCount,\r\n      };\r\n\r\n    case \"SET_PAGES_AMOUNT\":\r\n\r\n    \r\n      let buffer = [];\r\n      for (let i = 1; i < action.amountOfPages + 1; i++) {\r\n        buffer.push(i);\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        amountOfPages: buffer,\r\n      };\r\n\r\n    case \"SET_CURRENT_PAGE\":\r\n      return {\r\n        ...state,\r\n        currentPage: action.currentPage,\r\n      };\r\n\r\n    case \"SHOULD_SHOW_LOADER\":\r\n      return {\r\n        ...state,\r\n        showLoader: action.shouldShowLoader,\r\n      };\r\n\r\n    case \"SET_VISIBLE_PAGES\":\r\n\r\n      return {\r\n        ...state,\r\n        visiblePages: action.visiblePages,\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\n// Action Creators\r\n\r\nexport const follow = (userId) => ({ type: \"FOLLOW\", userId: userId });\r\nexport const unfollow = (userId) => ({ type: \"UNFOLLOW\", userId: userId });\r\nexport const followingInProgress = (id) => ({\r\n  type: \"FOLLOWING_IN_PROGRESS\",\r\n  followingInProgressID: id,\r\n});\r\n\r\nexport const setUsers = (users) => ({ type: \"SET_USERS\", users: users });\r\n\r\nexport const setCurrentPageUsers = (currentPageUsers) => ({\r\n  type: \"SET_CURRENT_PAGE_USERS\",\r\n  currentPageUsers: currentPageUsers,\r\n});\r\n\r\nexport const setUsersAmount = (amount) => ({\r\n  type: \"SET_USERS_AMOUNT\",\r\n  totalCount: amount,\r\n});\r\nexport const setPagesAmount = (amount) => ({\r\n  type: \"SET_PAGES_AMOUNT\",\r\n  amountOfPages: amount,\r\n});\r\nexport const setCurrentPage = (number) => ({\r\n  type: \"SET_CURRENT_PAGE\",\r\n  currentPage: number,\r\n});\r\n\r\nexport const shouldShowLoader = (shouldShowLoader) => ({\r\n  type: \"SHOULD_SHOW_LOADER\",\r\n  shouldShowLoader: shouldShowLoader,\r\n});\r\n\r\nexport const setVisiblePagesAC = arr => ({type : \"SET_VISIBLE_PAGES\", visiblePages: arr});\r\n\r\n/// SELECTORS\r\n\r\n\r\n// SANKI\r\n\r\nexport const getUsersThunkCreator = () => {\r\n  return async (dispatch) => {\r\n    dispatch(shouldShowLoader(true));\r\n\r\n    const data = await usersAPI.getUsers();\r\n\r\n    dispatch(setUsers(data.items));\r\n    dispatch(setUsersAmount(data.totalCount));\r\n\r\n    let usersPerPage = 100;\r\n    let totalCount = data.totalCount;\r\n    let amountOfPages = Math.ceil(totalCount / usersPerPage);\r\n\r\n    dispatch(setPagesAmount(amountOfPages));\r\n    dispatch(shouldShowLoader(false));\r\n\r\n  };\r\n};\r\n\r\nexport const setCurrentPageThunkCreator = (pageNumber = 0) => async (dispatch) => {\r\n\r\n\r\n\r\n    dispatch(shouldShowLoader(true));\r\n\r\n    const page = !isNaN(pageNumber) == true ? pageNumber : 1;\r\n\r\n\r\n    dispatch(setCurrentPage(page));\r\n\r\n    const data = await usersAPI.getUsers(page);\r\n\r\n    dispatch(setCurrentPageUsers(data.items));\r\n    dispatch(shouldShowLoader(false));\r\n};\r\n\r\nexport const followThunkCreator = (id) => async (dispatch) => {\r\n\r\n  // need to rework\r\n  dispatch(followingInProgress(true));\r\n  const data = await usersAPI.follow(id);\r\n  if (data.resultCode === 0) dispatch(follow(id));\r\n  dispatch(followingInProgress(false));\r\n};\r\n\r\nexport const unfollowThunkCreator = (id) => async (dispatch) => {\r\n    const data = await usersAPI.unFollow(id);\r\n    if (data.resultCode === 0) dispatch(unfollow(id));\r\n};\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Post\":\"Post_Post__xdvZS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formSummaryError\":\"Login_formSummaryError__1f3pw\"};","\r\nconst Friends = (props) => {\r\n\r\n\r\n\r\n    return (\r\n        <h3>{props.fio}</h3>\r\n    );\r\n};\r\n\r\nexport default Friends;","import { NavLink } from 'react-router-dom';\r\nimport Friends from './Friends/Friends';\r\nimport classes from './Navbar.module.css';\r\n\r\nconst Navbar = (props) => {\r\n\r\n  let friendsList = props.friends.map((el) => <Friends key={el.id} fio={el.fio} />);\r\n\r\n  let navList = props.links.map((el) => {\r\n    return (\r\n      <div className={classes.nav__link}>\r\n        <NavLink  to={el.src} activeClassName={classes.active_link}>\r\n          {el.name}\r\n        </NavLink>\r\n      </div>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <nav className={classes.nav}>\r\n      <div>{navList}</div>\r\n\r\n      <div>{friendsList}</div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import { connect } from 'react-redux';\r\nimport { sidebarFriendsSL, sidebarLinksSL } from '../../redux/SELECRORS';\r\nimport Navbar from './Navbar';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        friends: sidebarFriendsSL(state),\r\n        links: sidebarLinksSL(state)\r\n    }\r\n}\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        \r\n    }\r\n}\r\n\r\nconst NavbarContainer = connect(mapStateToProps, mapDispatchToProps)(Navbar);\r\n\r\nexport default NavbarContainer;\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\n\r\n\r\n\r\nconst ProfileStatusWithHooks = props => {\r\n\r\n    /// HOOKS\r\n    let [editMode, setEditMode] = useState(false);\r\n    let [status, setStatus] = useState(props.status);\r\n\r\n    useEffect(()=>{\r\n     \r\n        console.log(\"NOW\");\r\n        setStatus(props.status);\r\n    }, [props.status])\r\n\r\n\r\n    // if (props.status != status){\r\n    //     setStatus(props.status);\r\n    // }\r\n\r\n    const activateEditMode = () => {setEditMode(true)};\r\n\r\n    const deactivateEditMode = () => {\r\n        props.updateStatus(status);\r\n        setEditMode(false);\r\n    };\r\n\r\n\r\n    const inputChange = e => {\r\n        setStatus(e.target.value);\r\n    }\r\n    \r\n    return (\r\n        <div>\r\n            {\r\n                editMode ? \r\n                    <div>\r\n                        <input onChange={inputChange} onBlur={deactivateEditMode} value={status} />\r\n                        \r\n                    </div>\r\n              :      \r\n                    <div>\r\n                        <span onDoubleClick={activateEditMode} >{status}</span>\r\n                    </div>\r\n            }\r\n        </div>\r\n      );\r\n}\r\n\r\n\r\nexport default ProfileStatusWithHooks;","import React from \"react\";\r\n\r\nimport classes from \"./ProfileInfo.module.css\";\r\n\r\nimport photo from './../../../assets/images/cheems.jpg';\r\n\r\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n\r\n\r\n    const onPhotoSelected = event => {\r\n        if (event.target.files.length > 0){\r\n            props.setPhoto(event.target.files[0]);\r\n        };\r\n        \r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <div className={classes.content__header}>\r\n          <img\r\n            className={classes.content__avatar}\r\n            // src=\"https://www.izmirankareklam.com/wp-content/uploads/2020/12/1.png\"\r\n            src={props.ProfileInfo.photos?.small || photo}\r\n          ></img>\r\n          {\r\n            props.isOwner &&  \r\n              <div className={classes.inputFileWrapper}>\r\n                <span className={classes.inputSpan}>New Photo</span>\r\n                <input className={classes.inputFile} type='file' onChange={onPhotoSelected}/>\r\n              </div> \r\n          }\r\n          <span className={classes.content__author}>\r\n            @{props.ProfileInfo.fullName}\r\n          </span>\r\n        </div>\r\n      <h3>{props.ProfileInfo.aboutMe}</h3>\r\n      <h3>VK - {props.ProfileInfo.contacts?.vk}</h3>\r\n\r\n        <ProfileStatusWithHooks status={props.status}  updateStatus={props.updateStatusTK} getStatus={props.getStatusTK} />\r\n      </div>\r\n    );\r\n  \r\n};\r\n\r\nexport default ProfileInfo;\r\n","import classes from './Post.module.css';\r\n\r\nconst Post = (props) => {\r\n  return <div className={classes.Post}>{props.msg}</div>;\r\n};\r\n\r\nexport default Post;\r\n","\r\nimport classes from './MyPosts.module.css';\r\nimport Post from './Post/Post';\r\nimport React from 'react';\r\nimport Field from \"redux-form/lib/Field\";\r\nimport reduxForm from \"redux-form/lib/reduxForm\";\r\nimport { maxLengthTC, required } from '../../../utils/validators/VALIDATORS';\r\nimport { Textarea } from '../../common/FormControls/FormControls';\r\n\r\n\r\nconst MyPosts = React.memo((props) => {\r\n\r\n  console.log(\"RENDER MY POSTS\");\r\n  \r\n  let postsData = props.state;\r\n  let postsElements = postsData.map( el =>  <Post msg={el.msg}/> );\r\n\r\n\r\n  let storeData = (obj) => {\r\n    props.addPost(obj.textareaData);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.MyPosts}>\r\n      <div className={classes.content__add_post}><h3>ADD POST</h3></div>\r\n      <div className={classes.content__wall}>\r\n        WALL \r\n        <MyPostsFormContainer onSubmit={storeData}/>\r\n        {postsElements}\r\n      </div>\r\n    </div>\r\n  );\r\n});\r\n\r\nconst lengthValidator = maxLengthTC(10);\r\n\r\nconst MyPostsForm = (props) => {\r\n\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <Field type=\"text\" validate={[required, lengthValidator]} component={Textarea} name=\"textareaData\" placeholder='test'></Field>\r\n      {/* <Field type=\"file\" component=\"input\" name=\"userPhoto\"></Field> */}\r\n      <br />\r\n      <input type=\"submit\" placeholder=\"LOGIN\"/>\r\n    </form>\r\n  )\r\n}\r\n\r\nconst MyPostsFormContainer = reduxForm({\r\n  form: \"postInput\",\r\n  fields: ['textareaData', 'userPhoto']\r\n})(MyPostsForm);\r\n\r\nexport default MyPosts;","\r\nimport { authAPI, profileAPI } from '../API/API';\r\n\r\nlet initialState = {\r\n  profileInfo: {},\r\n  status: \"\",\r\n  currentUserId: null,\r\n\r\n  postsData: [\r\n    { id: 1, likesCount: 34, msg: \"ПРИВЕТ\" },\r\n    { id: 2, likesCount: 63, msg: \"тестовый пост 2\" },\r\n    { id: 3, likesCount: 27, msg: \"Yo\" },\r\n    { id: 4, likesCount: 12, msg: \"пост 4\" },\r\n  ],\r\n};\r\n\r\nconst profileReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case \"ADD-POST\":\r\n\r\n      return {\r\n        ...state,\r\n        currentInputData: \"\",\r\n        postsData: [...state.postsData, { id: 5, msg: action.currentMsg, likesCount: 0 }],\r\n      };\r\n\r\n    case \"DELETE_POST\":\r\n\r\n    let buffer = state.postsData.filter((el,index)=>index!=action.postId);\r\n\r\n    console.log(buffer);\r\n\r\n      return {\r\n        ...state,\r\n        postsData: [...buffer],\r\n    };\r\n\r\n    case \"SET_PROFILE_INFO\":\r\n      return {\r\n        ...state,\r\n        profileInfo: action.profileInfo,\r\n      };\r\n\r\n    case \"SET_CURRENT_USER_ID\":\r\n      return {\r\n        ...state,\r\n        currentUserId: action.currentUserId,\r\n      };\r\n\r\n    case \"SET_STATUS\":\r\n      return {\r\n        ...state,\r\n        status: action.status\r\n      }\r\n\r\n    \r\n    case \"SAVE_PHOTO_SUCCESS\":\r\n\r\n    debugger;\r\n      return {\r\n        ...state,\r\n        profileInfo: {\r\n          ...state.profileInfo,\r\n          photos: action.photos\r\n        },\r\n      };\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n\r\n/// ACTION CREATORS\r\n\r\nexport let addPostAC = (currentMsg) => ({ type: \"ADD-POST\", currentMsg });\r\nexport let deletePostAC = (postId) => ({type: \"DELETE_POST\", postId});\r\nexport let setProfileInfo = (obj) => ({\r\n  type: \"SET_PROFILE_INFO\",\r\n  profileInfo: obj,\r\n});\r\nexport let setCurrentUserID = (number) => ({\r\n  type: \"SET_CURRENT_USER_ID\",\r\n  currentUserId: number,\r\n});\r\nexport let setStatus = (status) => {\r\n  return {\r\n    type: \"SET_STATUS\",\r\n    status : status ? status : 'Статус отсутствует'\r\n}}\r\n\r\nexport const setPhotoSuccess = photos => ({type: \"SAVE_PHOTO_SUCCESS\", photos});\r\n\r\n\r\n/// SANKI\r\n\r\nexport const setPhoto = file => async dispatch => {\r\n    \r\n  const response = await profileAPI.setImage(file);\r\n\r\n  debugger;\r\n\r\n  if (response.data.resultCode === 0){\r\n    dispatch(setPhotoSuccess(response.data.data.photos));\r\n  }\r\n\r\n  debugger;\r\n\r\n} \r\n\r\n\r\nexport const getStatusTK = (userID) => async (dispatch) => {\r\n\r\n  const response = await profileAPI.getStatus(userID);\r\n  dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatusTK = (status) => async (dispatch) => {\r\n\r\n  const response = await profileAPI.updateStatus(status);\r\n  if (response.data.resultCode === 0) dispatch(setStatus(status));\r\n}\r\n\r\nexport const profileDidMountThunkCreator = (currentUserId) => async (dispatch) => {\r\n\r\n    let userID =  currentUserId;\r\n\r\n    if (!userID) {\r\n        const res = await authAPI.authMe();\r\n        userID = res.data.id;\r\n    }\r\n   \r\n    const res2 = await profileAPI.getProfileInfo(userID);\r\n    dispatch(setProfileInfo(res2.data));\r\n    getStatusTK(userID);\r\n};\r\n\r\nexport default profileReduser;\r\n","\r\nimport MyPosts from './MyPosts';\r\n\r\nimport { addPostAC } from '../../../redux/profileReduser';\r\nimport { connect } from 'react-redux';\r\nimport {profilePostsDataSL} from './../../../redux/SELECRORS';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state:  profilePostsDataSL(state)\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    addPost: (currentMsg) => {return dispatch(addPostAC(currentMsg))},\r\n  }\r\n}\r\n\r\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","// import classes from './Profile.module.css';\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { profileDidMountThunkCreator,  setPhoto,  getStatusTK, updateStatusTK } from \"../../redux/profileReduser\";\r\nimport { Redirect, withRouter } from \"react-router\";\r\nimport withAuthRedirect from \"../HOCs/AuthHOC\";\r\nimport { compose } from \"redux\";\r\nimport { profileInfoSL, profileStatusSL } from \"../../redux/SELECRORS\";\r\n\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    this.refreshProfile();\r\n  }\r\n\r\n\r\n  componentDidUpdate(prevProps, prevState, snapshot){\r\n\r\n    if (this.props.match.params.USER_ID != prevProps.match.params.USER_ID){\r\n      this.refreshProfile();\r\n    }\r\n    \r\n  }\r\n\r\n  refreshProfile(){\r\n       /// НЕ ДОДЕЛАНО\r\n    let currentUserId = this.props.match.params.USER_ID || 21178;\r\n    this.props.profileDidMountThunkCreator(currentUserId);\r\n    this.props.getStatusTK(currentUserId);\r\n  }\r\n\r\n  render() {\r\n\r\n    \r\n\r\n    if (this.props.isAuthorised === false){\r\n      return <Redirect to=\"/login\"/>\r\n    } \r\n    return (\r\n      <div>\r\n        <ProfileInfo \r\n            isOwner={!this.props.match.params.USER_ID}\r\n            {...this.props}\r\n        />\r\n        <MyPostsContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    ProfileInfo: profileInfoSL(state),\r\n    status : profileStatusSL(state)\r\n  };\r\n};\r\n\r\nexport default compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {\r\n    profileDidMountThunkCreator,\r\n    getStatusTK,\r\n    updateStatusTK,\r\n    setPhoto,\r\n\r\n  }),\r\n  withAuthRedirect\r\n)(ProfileContainer);","import classes from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n\r\n\r\n  let login = props.props.authData?.login;\r\n\r\n  let logout = () => {\r\n    props.props.logoutMeTC();\r\n  }\r\n\r\n  return (\r\n    <header className={classes.header}>\r\n      <img\r\n        src=\"https://uc20a3d36d20cc7212ef2855648a.previews.dropboxusercontent.com/p/thumb/ABUaDGlLgD6cl4P9ZCFWZ6AOyrHNVKFJxwMpG5RP3YR9iJxX9zail9hNPzi8cFa42tvsdi-9q43ml-NdZzEoZwOWsxhv80ztHS4AeXRi_vax0vavXdTyce-_XhgFA0E1okOsqWVuQePrM7wCB9aLOL6nJZDxSmXcM0cDQ-06AnHI3yFK5kKO4m8lyubMIqYDa75kh7JXUTJyBTzA22hJgB1LktfESvyzC_JX3wNmIKoz8BXgwQcFpENW2LKilb9NWiOs63lt9ZzTz3lr1jXtG1xREhsL8-bNbWXGjak7E-988Sbu_onSUvg8SeCEjlWBYcRwkFb9fOgW3TOS7POXhXkzw8zGvfnW6JZjR3-JrG3G6g/p.jpeg?fv_content=true&size_mode=5\"\r\n        alt=\"img\"\r\n      />\r\n\r\n      { props.props.isAuth === true ? \r\n        <button className={classes.loginBlock} onClick={logout}>\r\n          LOGOUT\r\n        </button> \r\n        : \r\n        <p></p>\r\n        // <NavLink to=\"/login\">\r\n        //   <div className={classes.loginBlock}>\r\n        //     LOGIN\r\n        //   </div>\r\n        // </NavLink>\r\n      }\r\n      \r\n      <div>\r\n      </div>\r\n\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import { authAPI } from \"../API/API\";\r\nimport { stopSubmit } from 'redux-form';\r\n\r\nlet initialState = {\r\n  userId: null,\r\n  email: \"\",\r\n  login: \"\",\r\n  isFetching: false,\r\n  authData: {\r\n    email: null,\r\n    id: null,\r\n    login: null\r\n  },\r\n  isAuth: null,\r\n  authStatus: \"You are not authorised\"\r\n};\r\n\r\nconst authReduser = (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case \"SET_USER_DATA\":\r\n      return {\r\n        ...state,\r\n        ...action.data,\r\n      };\r\n\r\n    case \"SET_AUTH_USER_DATA\":\r\n\r\n      return {\r\n        ...state,\r\n        authData : {...action.authData},\r\n        isAuth : true\r\n      };\r\n\r\n    case \"SET_AUTH_STATUS\":\r\n\r\n      if (action.authStatus === \"You are succsesfully authorised!\"){\r\n        return {\r\n          ...state,\r\n          authStatus : action.authStatus,\r\n          isAuth : true\r\n        }\r\n      }\r\n\r\n      return {\r\n        ...state,\r\n        authStatus : action.authStatus\r\n      }\r\n\r\n    case \"LOGOUT\" :\r\n\r\n      return {\r\n        userId: null,\r\n        email: \"\",\r\n        login: \"\",\r\n        isFetching: false,\r\n        authData: {\r\n          email: null,\r\n          id: null,\r\n          login: null\r\n        },\r\n        isAuth: false,\r\n        authStatus: \"You are not authorised\"\r\n      }\r\n    \r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\n/// ACTION CREATORS\r\n\r\nexport const setAuthStatus = (status) => ({type: \"SET_AUTH_STATUS\", authStatus: status});\r\n\r\nexport let setUserData = (userId, email, login) => ({\r\n  type: \"SET_USER_DATA\",\r\n  data: { userId, email, login },\r\n});\r\n\r\nexport let setAuthUserData = (obj) => ({\r\n  type: \"SET_AUTH_USER_DATA\",\r\n  authData: obj,\r\n  isAuth: true\r\n});\r\n\r\nexport const logoutAC = () => ({type: \"LOGOUT\"});\r\n\r\n/// SANKI\r\n\r\nexport const authMeThunkCreator = () => async (dispatch) => {\r\n  const res = await authAPI.authMe();\r\n  if (res.resultCode == 0){dispatch(setAuthUserData(res.data))};\r\n}\r\n\r\nexport const tryToLoginTC = (login, password, rememberMe) => async (dispatch) => {\r\n\r\n  dispatch(setAuthStatus(\"Wait a second...\"));\r\n  \r\n  setTimeout(async () => {\r\n    const res = await authAPI.tryToLogin(login, password, rememberMe);\r\n    if (res.resultCode === 0){\r\n      dispatch(setAuthStatus(\"You are succsesfully authorised! Redirecting...\"))\r\n      setTimeout(()=>{dispatch(setAuthStatus(\"You are succsesfully authorised!\"))}, 1500)\r\n    } else {\r\n      let action = stopSubmit('login', {_error: res.messages});\r\n      dispatch(action);\r\n      dispatch(setAuthStatus(\"Something went wrong, try again!\"))\r\n    }}, 1000);\r\n}\r\n\r\nexport const logoutMeTC = () => async (dispatch) => {\r\n    const res = await authAPI.logoutMe();\r\n    if (res.resultCode === 0) dispatch(logoutAC());\r\n}\r\n\r\nexport default authReduser;\r\n","\r\n\r\n\r\nimport React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Header from \"./Header\";\r\nimport { setAuthUserData, authMeThunkCreator, logoutMeTC} from \"../../redux/authReduser\";\r\nimport { userIdSL, isAuthSL, authDataSL } from \"../../redux/SELECRORS\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    \r\n    componentDidMount(){\r\n        this.props.authMeThunkCreator();\r\n    }\r\n\r\n    render(){return (<Header props={this.props} />)}\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        userId : userIdSL(state),\r\n        isAuth : isAuthSL(state),\r\n        authData : authDataSL(state),\r\n    }\r\n}\r\n\r\nexport default connect (mapStateToProps, {\r\n    setAuthUserData,\r\n    authMeThunkCreator,\r\n    logoutMeTC\r\n}) (HeaderContainer);","\r\nimport { connect } from \"react-redux\";\r\nimport { Redirect } from \"react-router-dom\";\r\n\r\nimport Field from \"redux-form/lib/Field\";\r\nimport reduxForm from \"redux-form/lib/reduxForm\";\r\nimport { authStatusSL, isAuthSL } from \"../../redux/SELECRORS\";\r\nimport { required } from \"../../utils/validators/VALIDATORS\";\r\nimport { Input } from \"../common/FormControls/FormControls\";\r\nimport { tryToLoginTC } from './../../redux/authReduser'\r\n\r\nimport c from './Login.module.css';\r\n\r\nlet Login = (props) => {\r\n\r\n\r\n   \r\n\r\n    const allFormData = (obj) => {\r\n     \r\n        props.tryToLoginTC(obj.login, obj.password, obj.rememberMe);\r\n    }\r\n\r\n    if (props.authStatus === 'You are succsesfully authorised!' || props.isAuth === true){\r\n        return <Redirect to=\"/profile\" />;\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h1>\r\n                Login\r\n            </h1>\r\n            <ReduxLoginForm onSubmit={allFormData} />\r\n            <h2>{props.authStatus}</h2>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit}>\r\n                <Field type=\"text\" validate={[required]} name=\"login\" placeholder=\"login\" component={Input}/>\r\n                <br />\r\n                <Field type=\"password\" validate={[required]} name=\"password\" placeholder=\"password\" component={Input}/>\r\n                <br />\r\n                <Field type=\"checkbox\" name=\"rememberMe\" component={\"input\"}/> remember me\r\n                <br />\r\n\r\n                {\r\n                    props.error ? (<div className={c.formSummaryError}>\r\n                        {props.error}\r\n                    </div>) : ''\r\n                }\r\n                \r\n                <input type=\"submit\" placeholder=\"LOGIN\"/>\r\n            </form>\r\n    )\r\n}\r\n\r\nlet ReduxLoginForm = reduxForm({ // <----- THIS IS THE IMPORTANT PART!\r\n    form: 'login',                           // a unique name for this form\r\n    fields: ['login', 'password', 'rememberMe'] // all the fields in your form\r\n  })(LoginForm);\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        authStatus : authStatusSL(state),\r\n        isAuth : isAuthSL(state)\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        tryToLoginTC : (login, password, rememberMe) => dispatch(tryToLoginTC(login, password, rememberMe))\r\n    }\r\n}\r\n\r\nconst LoginContainer =  connect(mapStateToProps, mapDispatchToProps)(Login);\r\n\r\nexport default LoginContainer;\r\n","import { authAPI, profileAPI } from \"../API/API\";\r\nimport { authMeThunkCreator, setAuthUserData } from \"./authReduser\";\r\nimport { setProfileInfo, setStatus } from \"./profileReduser\";\r\n\r\n\r\n\r\nlet initialState = {\r\n    \r\n    isUserAuthorised : null,\r\n    userId : null,\r\n    userStatus : '',\r\n\r\n};\r\n  \r\nconst appReduser = (state = initialState, action = {type: \"DEFAULT\"}) => {\r\n\r\n\r\n    switch (action.type){\r\n        case \"SET_AUTHORISATION_STATUS\":\r\n\r\n            return {\r\n                ...state,\r\n                isUserAuthorised : action.status\r\n            }\r\n        case \"SET_INITIALISATING_USER_ID\":\r\n            return {\r\n                ...state,\r\n                userId : action.userId\r\n            }\r\n        case \"SET_INITIALISATING_USER_STATUS\":\r\n            return {\r\n                ...state,\r\n                userStatus : action.userStatus\r\n            }\r\n        case \"DEFAULT\":\r\n          \r\n            return {\r\n                ...state,\r\n            }\r\n    \r\n        default:\r\n            return {\r\n                ...state\r\n            }\r\n    }\r\n};\r\n\r\n/// ACTION CREATORS\r\n\r\nexport const setAuthorisationStatusAC = (status) => {\r\n\r\n    return {\r\n        type: \"SET_AUTHORISATION_STATUS\",\r\n        status : status\r\n    }\r\n}\r\nexport const setInitialisationUserStatus = (userStatus) => {\r\n    return {\r\n        type: \"SET_INITIALISATING_USER_STATUS\",\r\n        userStatus : userStatus\r\n    }\r\n}\r\n\r\nexport const setInitialisatingUserID = (userId) => {\r\n    return {\r\n        type: \"SET_INITIALISATING_USER_ID\",\r\n        userId : userId\r\n    }\r\n}\r\n\r\n\r\n/// SANKI\r\n\r\n\r\nexport const  checkUserAuthorisationTC = () => (dispatch) => {\r\n    \r\n    (async function checkUserAuthorisation() {\r\n        let userID = 0;\r\n        const res = await authAPI.authMe();\r\n\r\n        if (res.resultCode === 0){\r\n                userID = res.data.id;\r\n                dispatch(setInitialisatingUserID(res.data.id));\r\n                dispatch(setAuthUserData(res.data));\r\n        } else {\r\n            dispatch(setAuthorisationStatusAC(false));\r\n        }\r\n        \r\n        const res2 = await profileAPI.getProfileInfo(userID);\r\n        dispatch(setProfileInfo(res2.data));\r\n\r\n        const res3 = await profileAPI.getStatus(userID);\r\n        let userStatus = res3.data;\r\n        dispatch(setStatus(userStatus));\r\n\r\n        dispatch(setAuthorisationStatusAC(true));\r\n    })();\r\n} \r\n\r\nexport default appReduser;\r\n\r\n  ","\r\n\r\nimport React from \"react\"\r\nimport { connect } from \"react-redux\";\r\nimport { userIdSL, userStatusSL } from \"../../redux/SELECRORS\";\r\nimport {checkUserAuthorisationTC} from './../../redux/appReduser';\r\n\r\nclass Initialisation extends React.Component {\r\n\r\n    componentDidMount(){\r\n        this.props.checkUserAuthorisationTC();\r\n    }\r\n\r\n\r\n    render(){\r\n        \r\n        return (\r\n            <h1>ЗАГРУЗКА...</h1>\r\n        )\r\n    }\r\n}\r\n\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        userId : userIdSL(state),\r\n        userStatus : userStatusSL(state)\r\n    }\r\n}\r\n\r\n\r\n\r\nexport default connect(mapStateToProps, {\r\n    checkUserAuthorisationTC,\r\n    \r\n})(Initialisation);","import { Suspense } from \"react\"\r\n\r\n\r\nconst SuspenseHOC = Comp => {\r\n\r\n    return (props) => {\r\n        return (\r\n            <Suspense fallback={<h2>Loading...</h2>}>\r\n                <Comp {...props}/>\r\n            </Suspense>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SuspenseHOC;","import './App.css';\r\nimport { Route, BrowserRouter } from 'react-router-dom';\r\nimport NavbarContainer from './components/Navbar/NavbarContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport Login from './components/Login/Login';\r\nimport Initialisation from './components/Initialisation/Initialisation';\r\nimport { connect } from 'react-redux';\r\nimport React from 'react';\r\nimport SuspenseHOC from './components/HOCs/SuspenseHOC';\r\nimport { HashRouter } from 'react-router-dom';\r\n\r\n\r\nconst DialogsContainer = React.lazy(()=>import('./components/Dialogs/DialogsContainer'));\r\nconst TestComp = React.lazy(()=> import('./components/TestComp/TestComp'));\r\nconst UsersContainer = React.lazy(()=> import('./components/Users/UsersContainer'));\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n\r\n  renderContent(){\r\n    if (this.props.isUserAuthorised === false || this.props.isUserAuthorised === true){\r\n        return (\r\n          <div className=\"wrapper\">\r\n              <HeaderContainer />\r\n              <NavbarContainer />\r\n              <div className=\"content\">\r\n                  <Route\r\n                      path=\"/login\"\r\n                      render={ ()=> <Login/> }\r\n                  />\r\n    \r\n                  <Route \r\n                      path=\"/dialogs\" \r\n                      render={SuspenseHOC(DialogsContainer)} \r\n                  />\r\n\r\n                  <Route \r\n                    path=\"/news\"\r\n                    render={SuspenseHOC(TestComp)}\r\n                  />\r\n                  \r\n                  <Route \r\n                      path=\"/profile/:USER_ID?\" \r\n                      render={ () => \r\n                      <ProfileContainer /> } \r\n                  />\r\n    \r\n                  <Route \r\n                      path=\"/users\" \r\n                      render={SuspenseHOC(UsersContainer)}\r\n    \r\n                  />\r\n              </div>\r\n            </div>\r\n        )\r\n    } else {\r\n      return (\r\n        <Initialisation/>\r\n      )\r\n    }\r\n  }\r\n\r\n  // basename={ process.env.PUBLIC_URL}\r\n  render(){\r\n    return (\r\n      <HashRouter >\r\n        <div className=\"App\">\r\n            {\r\n              this.renderContent()\r\n            }\r\n        </div>\r\n      </HashRouter>\r\n    );\r\n  }\r\n  \r\n};\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    isUserAuthorised: state.app.isUserAuthorised\r\n  }\r\n}\r\n\r\nconst AppContainer = connect(mapStateToProps,{\r\n  \r\n})(App);\r\n\r\nexport default AppContainer;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","let initialState = {\r\n\r\n  \r\n\r\n  friends: [\r\n    { id: 1, fio: 'hh' },\r\n    { id: 2, fio: 'gg' },\r\n    { id: 3, fio: 'ez' },\r\n  ],\r\n\r\n  links: [\r\n    { id: 1, src: '/profile', name: 'Profile' },\r\n    { id: 1, src: '/dialogs', name: 'Messages' },\r\n    { id: 1, src: '/news', name: 'News' },\r\n    { id: 1, src: '/music', name: 'Music' },\r\n    { id: 1, src: '/settings', name: 'Settings' },\r\n    { id: 1, src: '/users', name: 'USERS' },\r\n  ],\r\n};\r\n\r\nconst sidebarReduser = (state = initialState, action) => {\r\n  return state;\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default sidebarReduser;\r\n","import {applyMiddleware, combineReducers, compose, createStore} from 'redux';\r\nimport profileReduser from './profileReduser';\r\nimport dialogsReduser from './dialogsReduser';\r\nimport sidebarReduser from './sidebarReduser';\r\nimport { usersReduser } from './usersReduser';\r\nimport authReduser from './authReduser';\r\nimport {reducer as formReducer} from 'redux-form';\r\nimport appReduser from './appReduser';\r\n\r\nimport thunkMiddleware from 'redux-thunk';\r\n\r\n\r\nlet redusers = combineReducers({\r\n    profilePage : profileReduser,\r\n    messagesPage : dialogsReduser,\r\n    sidebarPage : sidebarReduser,\r\n    users : usersReduser,\r\n    auth : authReduser,\r\n    app : appReduser,\r\n    form : formReducer,\r\n    \r\n});\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; \r\nconst store = createStore(redusers, composeEnhancers(applyMiddleware(thunkMiddleware)));\r\n\r\n//let store = createStore(redusers, applyMiddleware(thunkMiddleware));\r\n\r\n\r\nexport default store;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport store from './redux/REDUX_STORE';\r\nimport StoreContext from './StoreContext';\r\n\r\nimport { Provider } from 'react-redux';\r\n\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <Provider store={store}>\r\n      <App />\r\n    </Provider>\r\n  </React.StrictMode>,\r\ndocument.getElementById('root'));\r\n\r\n\r\n// rerenderEntireTree(store.getState());\r\n\r\n// store.subscribe(rerenderEntireTree);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content__avatar\":\"ProfileInfo_content__avatar__2DjM0\",\"content__author\":\"ProfileInfo_content__author__1_D9R\",\"content\":\"ProfileInfo_content__1hAH4\",\"content__header\":\"ProfileInfo_content__header__60Cv9\",\"inputFileWrapper\":\"ProfileInfo_inputFileWrapper__2t_d4\",\"inputFile\":\"ProfileInfo_inputFile__Ag3rx\",\"inputSpan\":\"ProfileInfo_inputSpan__32wxK\"};","\r\n\r\nexport const required = (value) => {\r\n\r\n\r\n    if (value){\r\n        return undefined;\r\n    }\r\n    return \"You must write smth...\";\r\n\r\n}\r\n\r\n\r\nexport const loginValidator = (value) => {\r\n    \r\n\r\n    console.log('DA', !isNaN(value.split()[0]))\r\n\r\n    if (value && !isNaN(value.split()[0])){\r\n        return 'First symbol must be not a number...'\r\n    }\r\n\r\n    return undefined;\r\n}\r\n\r\n\r\nexport const maxLengthTC = (length) => (value) => {\r\n    \r\n    if (value && value.length > length){\r\n        return \"Too long...\";\r\n    }\r\n    return undefined;\r\n    \r\n}","\r\nimport classes from './FormControls.module.css';\r\n\r\n\r\nconst FormControl = ({input, meta, ...props}) => {\r\n\r\n    const hasError = meta.error && meta.touched;\r\n\r\n    return (\r\n        <div className={ hasError ? classes.error_textaera : classes.textarea}>\r\n            <div>\r\n                { props.children}\r\n            </div>\r\n            {\r\n                hasError && <span className={classes.error_span}>{meta.error}</span>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}> <textarea {...input} {...restProps} /></FormControl>\r\n\r\n}\r\n\r\nexport const Input = (props) => {\r\n    const {input, meta, ...restProps} = props;\r\n    return <FormControl {...props}> <input {...input} {...restProps} /></FormControl>\r\n\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3ePQt\",\"active_link\":\"Navbar_active_link__1Yo0a\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"MyPosts\":\"MyPosts_MyPosts__1hMTd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textarea\":\"FormControls_textarea__PtU1o\",\"error_textaera\":\"FormControls_error_textaera__27FU7\",\"error_span\":\"FormControls_error_span__Tj4Tb\"};","import { createSelector } from \"reselect\";\r\n\r\n\r\n/// users\r\n\r\nexport const usersGet = state => state.users.users;\r\nexport const totalCountSL = state => state.users.totalCount;\r\nexport const usersPerPageSL = state => state.users.usersPerPage;\r\nexport const amountOfPagesSL = state => state.users.amountOfPages;\r\nexport const currentPageSL = state => state.users.currentPage;\r\nexport const currentPageUsersSL = state => state.users.currentPageUsers;\r\nexport const showLoaderSL = state => state.users.showLoader;\r\nexport const followingInProgressIDSL = state => state.users.followingInProgressID;\r\n\r\nexport const visiblePagesSL = state => state.users.visiblePages;\r\n\r\nexport const usersGetSuperSL =  createSelector( usersGet, showLoaderSL , (users, showLoader) => {\r\n  if (showLoader){ return users.filter(el=>true); }\r\n})\r\n\r\n/// app\r\n\r\nexport const userIdSL = state => state.app.userId;\r\nexport const userStatusSL = state => state.app.userStatus;\r\n\r\n/// auth\r\n\r\nexport const authStatusSL = state => state.auth.authStatus;\r\nexport const isAuthSL = state => state.auth.isAuth;\r\nexport const authDataSL = state => state.auth.authData;\r\n\r\n/// profile\r\n\r\nexport const profileInfoSL = state => state.profilePage.profileInfo;\r\nexport const profileStatusSL = state => state.profilePage.status;\r\nexport const profilePostsDataSL = state => state.profilePage.postsData;\r\n\r\n\r\n/// sidebar\r\n\r\nexport const sidebarFriendsSL = state => state.sidebarPage.friends;\r\nexport const sidebarLinksSL = state => state.sidebarPage.links;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__28JW9\",\"loginBlock\":\"Header_loginBlock__4N43Q\"};","\r\nimport { Redirect } from \"react-router\";\r\nimport React from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { isAuthSL } from \"../../redux/SELECRORS\";\r\n\r\nconst mapStateToPropsAuth = (state) => {\r\n    return {\r\n        isAuthorised: isAuthSL(state)\r\n    };\r\n};\r\n\r\nlet withAuthRedirect = (Component) => {\r\n\r\n    class WrapperContainer extends React.Component {\r\n        render() {\r\n            return this.props.isAuthorised ? <Component {...this.props} /> : <Redirect to=\"/login\" /> \r\n        }\r\n    }\r\n    let withAuthRedirectConnected = connect(mapStateToPropsAuth)(WrapperContainer);\r\n    return withAuthRedirectConnected;\r\n}\r\n\r\nexport default withAuthRedirect;","import axios from \"axios\";\r\nimport {API_KEY} from './KEYS';\r\n\r\nconst BASE_URL = \"https://social-network.samuraijs.com/api/1.0/\";\r\n\r\nconst axiosInstance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: BASE_URL,\r\n    headers: {\r\n        \"API-KEY\": API_KEY,\r\n    },\r\n});\r\n \r\n\r\nexport const authAPI = {\r\n    authMe(){\r\n        return axiosInstance.get(\"auth/me\").then((res)=>res.data);\r\n    },\r\n\r\n    tryToLogin(login, password, rememberMe){\r\n        return axiosInstance.post(\"auth/login\", {\r\n            email: login,\r\n            password : password,\r\n            rememberMe : rememberMe\r\n        }).then((res)=>{\r\n            return res.data;\r\n        })\r\n    },\r\n\r\n    logoutMe(){\r\n        return axiosInstance.delete(\"auth/login\")\r\n            .then((res)=>{\r\n                return res.data;\r\n        });\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfileInfo(id){\r\n        return axiosInstance.get('profile/'+ id)\r\n    },\r\n    getStatus(id){\r\n        return axiosInstance.get('profile/status/' + id);\r\n    },\r\n    updateStatus(status){\r\n        return axiosInstance.put('profile/status', {status: status});\r\n    },\r\n\r\n    \r\n\r\n\r\n    setImage(file){\r\n        var formData = new FormData();\r\n        formData.append(\"image\", file);\r\n\r\n        return axiosInstance.put('profile/photo', formData, {\r\n            headers: {\r\n              'Content-Type': 'multipart/form-data'\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers(pageNumber = 1){\r\n        return axiosInstance.get(\"users?count=100&page=\" + pageNumber).then((res)=>res.data);\r\n    },\r\n    \r\n    follow(userId){\r\n        return axiosInstance.post(\"follow/\" + userId).then((res)=>res.data);\r\n    },\r\n\r\n    unFollow(userId){\r\n        return axiosInstance.delete(\"follow/\" + userId).then((res)=>res.data);\r\n    }\r\n}","\r\n\r\nexport const API_KEY = \"f4483cfc-efef-4572-802e-24fa17f34d79\";","export default __webpack_public_path__ + \"static/media/cheems.d58243a6.jpg\";"],"sourceRoot":""}
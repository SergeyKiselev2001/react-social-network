{"version":3,"sources":["components/Users/Users.module.css","components/Users/Users.jsx","components/Users/UsersContainer.jsx"],"names":["module","exports","Users","props","plusOnePage","last","amountOfPages","length","visiblePages","setVisiblePages","map","el","minusOnePage","first","toLastPage","arr","i","push","toFirstPage","this","getUsersThunkCreator","setCurrentPage","target","textContent","currentPage","then","data","setUsersAmount","totalCount","usersPerPage","setPagesAmount","setVisiblePagesAC","setCurrentPageThunkCreator","showLoader","className","classes","loader","src","alt","currentPageUsers","userWrapper","user","href","id","photos","small","userPhoto","img","followed","disabled","followingInProgressID","onClick","unfollowThunkCreator","followingInProgressBool","followThunkCreator","name","status","page","active_page","pagination","type","search","renderPages","renderLoader","renderPage","React","Component","compose","connect","state","users","usersGetSuperSL","totalCountSL","usersPerPageSL","amountOfPagesSL","currentPageSL","currentPageUsersSL","showLoaderSL","followingInProgressIDSL","visiblePagesSL","setUsers","setCurrentPageUsers","shouldShowLoader","withAuthRedirect"],"mappings":"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","file":"static/js/4.d604d8f1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"Users_userWrapper__3rC79\",\"user\":\"Users_user__3EJE4\",\"img\":\"Users_img__37i-1\",\"selectedPage\":\"Users_selectedPage__z6EjZ\",\"loader\":\"Users_loader__3298z\",\"pagination\":\"Users_pagination__gekXc\",\"page\":\"Users_page__3oS4Y\",\"active_page\":\"Users_active_page__1pOFA\",\"search\":\"Users_search__3Ybta\"};","import classes from \"./Users.module.css\";\r\nimport userPhoto from \"./../../assets/images/cheems.jpg\";\r\n\r\n\r\nimport React from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\n\r\n\r\n\r\nclass Users extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.getUsersThunkCreator();\r\n    this.setCurrentPage({target: {textContent : null}}, this.props.currentPage);\r\n    this.setVisiblePages([1,2,3,4,5,6,7,8,9,10]);\r\n  }\r\n\r\n  getAmountOfUsers() {\r\n    this.props.getUsersThunkCreator()\r\n      .then((data) => this.props.setUsersAmount(data.totalCount));\r\n  }\r\n\r\n  getAmountOfPages() {\r\n    let usersPerPage = this.props.usersPerPage;\r\n    let totalCount = this.props.totalCount;\r\n    let amountOfPages = ~~(totalCount / usersPerPage);\r\n    this.props.setPagesAmount(amountOfPages);\r\n  }\r\n\r\n  setVisiblePages(arr) {\r\n    this.props.setVisiblePagesAC(arr);\r\n  }\r\n\r\n  plusOnePage = () => {\r\n    const last = this.props.amountOfPages[this.props.amountOfPages.length - 1];\r\n    if (this.props.visiblePages[9] + 1 < last){\r\n      this.setVisiblePages(this.props.visiblePages.map(el=>el+1));\r\n    }\r\n  }\r\n\r\n  minusOnePage = () => {\r\n    const first = this.props.amountOfPages[0];\r\n  \r\n    if (this.props.visiblePages[0] > first){\r\n      this.setVisiblePages(this.props.visiblePages.map(el=>el-1));\r\n    }\r\n  }\r\n\r\n  toLastPage = () => {\r\n    let last = this.props.amountOfPages[this.props.amountOfPages.length - 1];\r\n    \r\n    let arr = [];\r\n\r\n    for (let i = 9; i > 0; i--){\r\n      arr.push(last - i);\r\n    }\r\n    arr.push(last);\r\n    this.setVisiblePages(arr);\r\n  }\r\n\r\n  toFirstPage = () => {\r\n    this.setVisiblePages([1,2,3,4,5,6,7,8,9,10]);\r\n  }\r\n\r\n  setCurrentPage(el) {\r\n\r\n    this.props.setCurrentPageThunkCreator(el);\r\n  }\r\n\r\n  renderLoader() {\r\n    if (this.props.showLoader) {\r\n      return (\r\n        <img\r\n          className={classes.loader}\r\n          src=\"https://cdn.dribbble.com/users/723160/screenshots/6201614/liquid-loading.gif\"\r\n          alt=\"LOL\"\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  renderPage() {\r\n    if (this.props.showLoader === false) {\r\n      return (\r\n        <div>\r\n          {this.props.currentPageUsers.map((el) => {\r\n            return (\r\n              <div key={el.id} className={classes.userWrapper}>\r\n                <div className={classes.user}>\r\n                  <span>\r\n                    <div>\r\n                      <a href={\"#/profile/\" + el.id} target=\"_blank\">\r\n                        <img\r\n                          src={\r\n                            el.photos.small != null\r\n                              ? el.photos.small\r\n                              : userPhoto\r\n                          }\r\n                          alt=\"ava\"\r\n                          className={classes.img}\r\n                        />\r\n                      </a>\r\n                    </div>\r\n\r\n                    <div>\r\n                      {el.followed ? (\r\n                        <button\r\n\r\n                          disabled={this.props.followingInProgressID === el.id}\r\n\r\n                          onClick={() => {\r\n                            //\r\n                            this.props.unfollowThunkCreator(el.id);\r\n                          }}\r\n                        >\r\n                          Unfollow\r\n                        </button>\r\n                      ) : (\r\n                        <div>\r\n                          <h1>\r\n                            {\r\n                              this.props.followingInProgressBool ?\r\n                                \"LOL DA\" : \"LOL NET\"\r\n                            }\r\n                          </h1>\r\n                        <button\r\n                          disabled={this.props.followingInProgressID === el.id}\r\n                          onClick={() => {\r\n                            this.props.followThunkCreator(el.id)\r\n                          }}\r\n                        >\r\n                          Follow\r\n                        </button>\r\n                        </div>\r\n                      \r\n                      )}\r\n                    </div>\r\n                  </span>\r\n                  <span>\r\n                    <span>\r\n                      <div>{el.name}</div>\r\n                      <div>{el.status}</div>\r\n                    </span>\r\n                    <span>\r\n                      <div>{\"el.location.country\"}</div>\r\n                      <div>{\"el.location.city\"}</div>\r\n                    </span>\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderPages(){\r\n\r\n    return this.props.visiblePages.map(el=>{\r\n\r\n       if (this.props.currentPage == el) {\r\n     \r\n         return (<div className={classes.page + ' ' + classes.active_page}>{el}</div>)\r\n       }\r\n\r\n       if (this.props.currentPage != el) {\r\n        return (<div onClick={()=> this.setCurrentPage(el)} className={classes.page}>{el}</div>)\r\n       }\r\n      \r\n    })\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n\r\n        <div className={classes.pagination}>\r\n\r\n          <input type=\"text\" className={classes.search} />\r\n\r\n          <div onClick={this.toFirstPage} className={classes.page}>&lt;&lt;</div>\r\n          <div onClick={this.minusOnePage} className={classes.page}>&lt;</div>\r\n          \r\n          {\r\n            this.renderPages()\r\n          }\r\n\r\n          <div onClick={this.plusOnePage} className={classes.page}>&gt;</div>\r\n          <div onClick={this.toLastPage} className={classes.page}>&gt;&gt;</div>\r\n        </div>\r\n\r\n\r\n        <div>{this.renderLoader()}</div>\r\n        <div>{this.renderPage()}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Users;\r\n","import { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { totalCountSL,usersPerPageSL,\r\n    visiblePagesSL,\r\n    amountOfPagesSL,\r\n    currentPageSL,\r\n    currentPageUsersSL,\r\n    showLoaderSL,\r\n    followingInProgressIDSL, \r\n    usersGetSuperSL } from \"../../redux/SELECRORS\";\r\n\r\nimport {  getUsersThunkCreator,\r\n        setUsers, setCurrentPage, setCurrentPageUsers, \r\n        setPagesAmount, setUsersAmount, shouldShowLoader,\r\n        setCurrentPageThunkCreator, followThunkCreator, setVisiblePagesAC,\r\n        unfollowThunkCreator, } from \"../../redux/usersReduser\";\r\nimport withAuthRedirect from \"../HOCs/AuthHOC\";\r\nimport Users from './Users';\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n\r\n\r\n    return {\r\n        users: usersGetSuperSL(state),\r\n        totalCount : totalCountSL(state),\r\n        usersPerPage : usersPerPageSL(state),\r\n        amountOfPages: amountOfPagesSL(state),\r\n        currentPage : currentPageSL(state),\r\n        currentPageUsers : currentPageUsersSL(state),\r\n        showLoader : showLoaderSL(state),\r\n        followingInProgressID : followingInProgressIDSL(state),\r\n        visiblePages : visiblePagesSL(state),\r\n    }\r\n}\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         follow: (userId) => dispatch(followAC(userId)),\r\n//         unfollow: (userId) => dispatch(unfollowAC(userId)),\r\n//         setUsers: (users)=> dispatch(setUsersAC(users)),\r\n//         setUsersAmount: (amount)=> dispatch(setUsersAmountAC(amount)),\r\n//         setPagesAmount: (amount)=> dispatch(setPagesAmountAC(amount)),\r\n//         setCurrentPage: (number)=> dispatch(setCurrentPageAC(number)),\r\n//         setCurrentPageUsers: (currentPageUsers)=> dispatch(setCurrentPageUsersAC(currentPageUsers)),\r\n//         shouldShowLoader: (shouldShowLoader)=> dispatch(shouldShowLoaderAC(shouldShowLoader))\r\n//     }\r\n// }\r\n\r\nexport default compose(connect(mapStateToProps, \r\n{\r\n    setUsers,\r\n    setUsersAmount,\r\n    setPagesAmount,\r\n    setCurrentPage,\r\n    setCurrentPageUsers,\r\n    shouldShowLoader,\r\n    setVisiblePagesAC,\r\n    getUsersThunkCreator,\r\n    setCurrentPageThunkCreator,\r\n    followThunkCreator,\r\n    unfollowThunkCreator\r\n}),\r\nwithAuthRedirect\r\n)(Users);"],"sourceRoot":""}